{"remainingRequest":"/Users/weidian/Documents/projects/github/christmas/node_modules/thread-loader/dist/cjs.js!/Users/weidian/Documents/projects/github/christmas/node_modules/babel-loader/lib/index.js!/Users/weidian/Documents/projects/github/christmas/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/weidian/Documents/projects/github/christmas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weidian/Documents/projects/github/christmas/src/components/Melody.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weidian/Documents/projects/github/christmas/src/components/Melody.vue","mtime":1545619220291},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      assets: {\n        whys: 'whys.mp3',\n        melody: 'melody.jpeg'\n      },\n      loaded: null,\n      loop: false,\n      playing: false\n    };\n  },\n  computed: {\n    music: function music() {\n      return \"/static/\".concat(this.assets.whys);\n    },\n    melody: function melody() {\n      return \"/static/\".concat(this.assets.melody);\n    }\n  },\n  mounted: function mounted() {\n    var audio = this.$refs.audio;\n    this.loaded = new Promise(function (resolve) {\n      audio.addEventListener('canplaythrough', resolve, false);\n    });\n  },\n  methods: {\n    // autoplay\n    play: function play() {\n      var _this = this;\n\n      if (this.loaded) {\n        this.loaded.then(function () {\n          var audio = _this.$refs.audio;\n          audio.play().then(function () {\n            _this.playing = true;\n          }).catch(function () {});\n        });\n      }\n    },\n    stop: function stop() {\n      var audio = this.$refs.audio;\n      audio.pause();\n      this.playing = false;\n    },\n    togglePlay: function togglePlay() {\n      this.playing ? this.stop() : this.play();\n    }\n  }\n};",{"version":3,"sources":["Melody.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAiBA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,MAAA,EAAA;AAFA,OADA;AAMA,MAAA,MAAA,EAAA,IANA;AAQA,MAAA,IAAA,EAAA,KARA;AAUA,MAAA,OAAA,EAAA;AAVA,KAAA;AAYA,GAdA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,+BAAA,KAAA,MAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,MAJA,oBAIA;AACA,+BAAA,KAAA,MAAA,CAAA,MAAA;AACA;AANA,GAhBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,QAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA;AACA,SAAA,MAAA,GAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,MAAA,KAAA,CAAA,gBAAA,CAAA,gBAAA,EAAA,OAAA,EAAA,KAAA;AACA,KAFA,CAAA;AAGA,GA9BA;AAgCA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,IAFA,kBAEA;AAAA;;AACA,UAAA,KAAA,MAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,YAAA;AACA,cAAA,KAAA,GAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,WAFA,EAEA,KAFA,CAEA,YAAA,CAAA,CAFA;AAGA,SALA;AAMA;AACA,KAXA;AAaA,IAAA,IAbA,kBAaA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA;AACA,MAAA,KAAA,CAAA,KAAA;AAEA,WAAA,OAAA,GAAA,KAAA;AACA,KAlBA;AAoBA,IAAA,UApBA,wBAoBA;AACA,WAAA,OAAA,GAAA,KAAA,IAAA,EAAA,GAAA,KAAA,IAAA,EAAA;AACA;AAtBA;AAhCA,CAAA","sourcesContent":["<template>\n\t<div class=\"melody\">\n\t\t<audio\n\t\t\thidden=\"true\"\n\t\t\t:loop=\"loop\"\n\t\t\t:src=\"music\"\n\t\t\tref=\"audio\"></audio>\n\t\t<img\n\t\t\t@click.stop=\"togglePlay\"\n\t\t\t:class=\"{'playing': playing}\"\n\t\t\tclass=\"melody-player\"\n\t\t\t:src=\"melody\"/>\n\t\t<!-- Dialog -->\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tassets: {\n\t\t\t\t\twhys: 'whys.mp3',\n\t\t\t\t\tmelody: 'melody.jpeg'\n\t\t\t\t},\n\n\t\t\t\tloaded: null,\n\n\t\t\t\tloop: false,\n\n\t\t\t\tplaying: false\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\t\t\tmusic() {\n\t\t\t\treturn `/static/${this.assets.whys}`\n\t\t\t},\n\t\t\tmelody() {\n\t\t\t\treturn `/static/${this.assets.melody}`\n\t\t\t}\n\t\t},\n\n\t\tmounted() {\n\t\t\tconst audio = this.$refs.audio\n\t\t\tthis.loaded = new Promise(resolve => {\n\t\t\t\taudio.addEventListener('canplaythrough', resolve, false)\n\t\t\t})\n\t\t},\n\n\t\tmethods: {\n\t\t\t// autoplay\n\t\t\tplay() {\n\t\t\t\tif (this.loaded) {\n\t\t\t\t\tthis.loaded.then(() => {\n\t\t\t\t\t\tconst audio = this.$refs.audio\n\t\t\t\t\t\taudio.play().then(() => {\n\t\t\t\t\t\t\tthis.playing = true\n\t\t\t\t\t\t}).catch(() => {})\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tstop() {\n\t\t\t\tconst audio = this.$refs.audio\n\t\t\t\taudio.pause()\n\n\t\t\t\tthis.playing = false\n\t\t\t},\n\n\t\t\ttogglePlay() {\n\t\t\t\tthis.playing ? this.stop() : this.play()\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t$Size: 60px;\n\n\t.melody {\n\t\tposition: fixed;\n\t\tbottom: 20px;\n\t\tright: 20px;\n\t}\n\n\t.melody-player {\n\t\twidth: $Size;\n\t\theight: $Size;\n\t\tborder-radius: 100%;\n\t\tbox-shadow: 0 0 25px #000;\n\t\tcursor: pointer;\n\n\t\ttransform: rotateY(0deg);\n\n\t\tobject-fit: contain;\n\n\t\t&.playing {\n\t\t\tanimation: rotate 6s infinite;\n\t\t}\n\n\t}\n\n\t@keyframes rotate {\n\t\t0% {\n\t\t\ttransform: rotateY(0deg);\n\t\t}\n\t\t50% {\n\t\t\ttransform: rotateY(180deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotateY(360deg);\n\t\t}\n\t}\n</style>\n"],"sourceRoot":"src/components"}]}