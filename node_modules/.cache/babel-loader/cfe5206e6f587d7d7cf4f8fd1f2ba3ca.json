{"remainingRequest":"/Users/weidian/Documents/projects/github/christmas/node_modules/thread-loader/dist/cjs.js!/Users/weidian/Documents/projects/github/christmas/node_modules/babel-loader/lib/index.js!/Users/weidian/Documents/projects/github/christmas/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/weidian/Documents/projects/github/christmas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weidian/Documents/projects/github/christmas/src/components/gallery/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weidian/Documents/projects/github/christmas/src/components/gallery/index.vue","mtime":1545619220292},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weidian/Documents/projects/github/christmas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      currIndex: 0,\n      assets: [{\n        url: '1.jpg',\n        duration: 10\n      }, {\n        url: '2.jpg',\n        duration: 10\n      }, {\n        url: '9.jpg',\n        duration: 10\n      }, {\n        url: '3.jpeg',\n        duration: 10\n      }, {\n        url: '4.jpeg',\n        duration: 10\n      }, {\n        url: '5.jpeg',\n        duration: 10\n      }, {\n        url: '6.jpg',\n        duration: 10\n      }, {\n        url: '7.jpg',\n        duration: 10\n      }, {\n        url: '8.jpg',\n        duration: 10\n      }, {\n        url: '10.jpg',\n        duration: 10\n      }, {\n        url: '11.jpg',\n        duration: 10\n      }, {\n        url: '12.jpg',\n        duration: 10\n      }, {\n        url: '13.jpg',\n        duration: 10\n      }, {\n        url: '14.jpeg',\n        duration: 10\n      }, {\n        url: '15.jpeg',\n        duration: 10\n      }, {\n        url: '1.jpg',\n        duration: 10\n      }]\n    };\n  },\n  methods: {\n    start: function start() {\n      var _this = this;\n\n      var duration = this.assets[this.currIndex].duration;\n      setTimeout(function () {\n        _this.next().then(function () {\n          if (_this.currIndex < _this.assets.length - 1) {\n            _this.start();\n          }\n        });\n      }, duration * 1000);\n    },\n    next: function next() {\n      var _this2 = this;\n\n      var clientWidth = document.body.clientWidth;\n      var target = (this.currIndex + 1) * clientWidth;\n      var step = 5;\n      var scrollLeft = this.$el.scrollLeft;\n      return new Promise(function (resolve) {\n        var play = function play() {\n          if (scrollLeft < target) {\n            scrollLeft += step;\n            _this2.$el.scrollLeft = scrollLeft;\n            requestAnimationFrame(play);\n          } else {\n            _this2.$el.scrollLeft = target;\n            _this2.currIndex++;\n            resolve();\n          }\n        };\n\n        play();\n      });\n    },\n    getItemStyle: function getItemStyle(item) {\n      var url = item.url;\n      return {\n        backgroundImage: \"url(/static/carousel/\".concat(url, \")\")\n      };\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"carousel\">\n\t\t<div\n\t\t\t:style=\"getItemStyle(item)\"\n\t\t\t:key=\"index\"\n\t\t\tv-for=\"(item, index) in assets\"\n\t\t\tclass=\"carousel-item\">\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrIndex: 0,\n\t\t\t\tassets: [\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '1.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '2.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '9.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '3.jpeg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '4.jpeg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '5.jpeg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '6.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '7.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '8.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '10.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '11.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '12.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '13.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '14.jpeg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '15.jpeg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl: '1.jpg',\n\t\t\t\t\t\tduration: 10\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\n\t\tmethods: {\n\t\t\tstart() {\n\t\t\t\tconst duration = this.assets[this.currIndex].duration\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.next().then(() => {\n\t\t\t\t\t\tif (this.currIndex < this.assets.length - 1) {\n\t\t\t\t\t\t\tthis.start()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}, duration * 1000)\n\t\t\t},\n\n\t\t\tnext() {\n\t\t\t\tconst clientWidth = document.body.clientWidth\n\t\t\t\tconst target = (this.currIndex + 1) * clientWidth\n\t\t\t\tconst step = 5\n\t\t\t\tlet scrollLeft = this.$el.scrollLeft\n\n\t\t\t\treturn new Promise(resolve => {\n\t\t\t\t\tconst play = () => {\n\t\t\t\t\t\tif (scrollLeft < target) {\n\t\t\t\t\t\t\tscrollLeft += step\n\t\t\t\t\t\t\tthis.$el.scrollLeft = scrollLeft\n\t\t\t\t\t\t\trequestAnimationFrame(play)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$el.scrollLeft = target\n\t\t\t\t\t\t\tthis.currIndex++\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tplay()\n\t\t\t\t})\n\t\t\t},\n\n\t\t\tgetItemStyle(item) {\n\t\t\t\tconst { url } = item\n\t\t\t\treturn {\n\t\t\t\t\tbackgroundImage: `url(/static/carousel/${url})`\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.carousel {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t}\n\n\t.carousel-item {\n\t\tdisplay: inline-flex;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: 100% 100%;\n\t}\n</style>\n"],"sourceRoot":"src/components/gallery"}]}